[workspace]
name = "karina-tts-notification"
version = "0.1.0"
description = "Karina voice notification for Claude Code"
channels = ["conda-forge", "pytorch", "nvidia"]
platforms = ["linux-64"]

[dependencies]
# Python
python = "3.12.*"

# System dependencies
ffmpeg = ">=6.0"
yt-dlp = ">=2024.1.0"
sox = ">=14.4.2"

# CUDA support
cuda-toolkit = ">=12.0"
cudnn = ">=8.0"

# Python packages
pip = ">=24.0"

[pypi-dependencies]
# Audio processing
pydub = ">=0.25.1"

# Transcription - faster-whisper for GPU
faster-whisper = ">=1.0.0"

# TTS - Qwen3-TTS
qwen-tts = "*"
torch = ">=2.0.0"
soundfile = ">=0.12.0"
huggingface-hub = ">=0.20.0"

# Utilities
loguru = ">=0.7.0"
rich = ">=13.0.0"

# Optional: FlashAttention2 for faster inference (may fail on some systems)
# flash-attn = ">=2.0.0"

[tasks]
download = "python scripts/download_audio.py"
extract = "python scripts/extract_segment.py"
transcribe = "python scripts/transcribe.py"
setup-tts = "python scripts/setup_qwen_tts.py"
generate = "python scripts/generate_notifications.py"
pipeline = "python scripts/pipeline.py"
